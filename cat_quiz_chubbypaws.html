<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ChubbyPawsï½œä½ çš„éˆé­‚è²“å’ªæ˜¯èª°ï¼Ÿäº’å‹•æ¸¬é©—</title>

<!-- Primary Brand Colors -->
<style>
:root{
  --brand-bg:#fff7ed;      /* æ·¡ç±³æ */
  --brand-card:#ffffff;
  --brand-text:#2f2a28;
  --brand-accent:#ffb86b;  /* ç²‰æ©˜è²“æŒè‰² */
  --brand-accent-2:#e9d7c9;
}
html,body{margin:0;padding:0;}
body{
  font-family: "Noto Sans TC", "PingFang TC", "Heiti TC", sans-serif;
  background: var(--brand-bg);
  color: var(--brand-text);
  display:flex;
  flex-direction:column;
  align-items:center;
  min-height:100dvh;
}
.container{
  width:min(92vw, 640px);
  background:var(--brand-card);
  border-radius:24px;
  padding:24px 20px;
  margin:28px 0 40px;
  box-shadow:0 8px 24px rgba(0,0,0,.08);
  position:relative;
  overflow:hidden;
}
.brand{
  display:flex; align-items:center; justify-content:center; gap:10px;
  margin-bottom:6px;
}
.brand .paw{
  width:28px;height:28px;border-radius:50%;
  background:var(--brand-accent);
  box-shadow: 14px 8px 0 0 var(--brand-accent), -14px 8px 0 0 var(--brand-accent), 0 18px 0 0 var(--brand-accent);
  position:relative;
}
.brand-name{
  font-weight:800; letter-spacing:.5px;
}
h1{
  text-align:center; font-size:1.7rem; margin:4px 0 10px;
}
.sub{
  text-align:center; font-size:.95rem; opacity:.8; margin-bottom:14px;
}
.progress{height:10px; background:var(--brand-accent-2); border-radius:6px; overflow:hidden; margin:12px 0 18px;}
.progress-bar{height:10px; width:0%; background:var(--brand-accent); transition:width .3s ease;}
.question{font-weight:700; margin:10px 0 12px; line-height:1.5;}
.options{display:grid; grid-template-columns:1fr; gap:10px;}
.options button{
  padding:12px 14px; border-radius:14px; border:2px solid var(--brand-accent-2);
  background:#fff; cursor:pointer; font-size:1rem; text-align:left;
  transition:transform .05s ease, background .2s ease, border-color .2s ease;
}
.options button:active{ transform:scale(.99); }
.options button:hover{ background:var(--brand-bg); border-color:var(--brand-accent); }
.footer{
  margin-top:12px; text-align:center; font-size:.9rem; opacity:.75;
}
.badge{
  position:absolute; top:-28px; right:-28px; background:var(--brand-accent);
  color:#fff; padding:32px; border-radius:50%; font-weight:700; transform:rotate(18deg);
  box-shadow:0 8px 24px rgba(0,0,0,.2);
}
.result{ display:none; text-align:center; }
.result h2{ font-size:1.4rem; margin:8px 0; }
.result p{ line-height:1.6; }
.btn{
  margin-top:14px; background:var(--brand-accent); color:#fff;
  border:none; padding:12px 18px; border-radius:14px; font-size:1rem; cursor:pointer;
}
.btn-secondary{
  background:var(--brand-accent-2); color:#2f2a28;
}
.share-note{ font-size:.9rem; opacity:.8; margin-top:8px; }
.score-hint{
  background:var(--brand-bg); border:1px dashed var(--brand-accent-2);
  border-radius:12px; padding:10px; margin-top:12px; text-align:left; font-size:.92rem;
}
.small{ font-size:.86rem; opacity:.8; }
@media (min-width: 560px){
  .options{ grid-template-columns:1fr 1fr; }
}
</style>

<!-- Open Graph / Twitter Card -->
<meta property="og:title" content="ä½ çš„éˆé­‚è²“å’ªæ˜¯èª°ï¼Ÿ7 é¡Œæ‰¾å‡ºæœ€é©åˆä½ çš„è²“å’ªå“ç¨®ï½œChubbyPaws" />
<meta property="og:description" content="äº’å‹•æ¸¬é©—ï¼šå³æ™‚é…å°è‹±çŸ­ã€å¸ƒå¶ã€ä¿„ç¾…æ–¯è—ã€ç·¬å› ã€å­ŸåŠ æ‹‰â€¦çœ‹çœ‹ä½ æ˜¯å“ªä¸€æ´¾ï¼" />
<meta property="og:image" content="https://dummyimage.com/1200x630/ffb86b/ffffff&text=ChubbyPaws+%7C+%E9%9D%88%E9%AD%82%E8%B2%93%E5%92%AA%E6%B8%AC%E9%A9%97" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://example.com/cat-quiz?utm_source=instagram&utm_medium=bio&utm_campaign=cat_quiz" />
<meta name="twitter:card" content="summary_large_image" />
<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 64 64%27%3E%3Ccircle cx=%2732%27 cy=%2732%27 r=%2732%27 fill=%27%23ffb86b%27/%3E%3Ccircle cx=%2720%27 cy=%2726%27 r=%276%27 fill=%27%23fff%27/%3E%3Ccircle cx=%2732%27 cy=%2722%27 r=%276%27 fill=%27%23fff%27/%3E%3Ccircle cx=%2744%27 cy=%2726%27 r=%276%27 fill=%27%23fff%27/%3E%3Ccircle cx=%2732%27 cy=%2738%27 r=%278%27 fill=%27%23fff%27/%3E%3C/svg%3E" />

<!-- (å¯é¸) Google Analytics 4ï¼šæŠŠ G-XXXX æ›æˆä½ çš„ä»£ç¢¼å³å¯
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXX"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-XXXXXXX');
</script>
-->
</head>
<body>
  <div class="container">
    <div class="badge">QUIZ</div>
    <div class="brand">
      <div class="paw" aria-hidden="true"></div>
      <div class="brand-name">ChubbyPaws</div>
    </div>
    <h1>ä½ çš„éˆé­‚è²“å’ªæ˜¯èª°ï¼Ÿ</h1>
    <div class="sub">7 é¡Œäº’å‹•æ¸¬é©—ï½œæ‰¾åˆ°æœ€é©åˆä½ çš„è²“å’ªå“ç¨®</div>

    <div class="progress"><div class="progress-bar" id="progressBar"></div></div>
    <div id="quiz"></div>

    <div class="result" id="result"></div>

    <div class="footer small">Â© ChubbyPaws Â· é ˜é¤Šä»£æ›¿è³¼è²· Â· è©•ä¼°æ™‚é–“èˆ‡é•·æœŸç…§è­·è²¬ä»»</div>
  </div>

<script>
// ---- å•é¡Œè³‡æ–™ ----
const quizData = [
  { q: "Q1. ä½ ç†æƒ³çš„ç”Ÿæ´»ç¯€å¥æ˜¯ï¼Ÿ",
    a: ["A. æ…¢æ´»ã€å®…å®¶ã€å®‰éœ", "B. ç™½å¤©å¿™ã€æ™šä¸Šæƒ³é™ªä¼´", "C. ç†±é¬§ã€å–œæ­¡äº’å‹•", "D. å¸¸å¤–å‡ºã€è¡Œç¨‹ä¸å›ºå®š"]
  },
  { q: "Q2. ä½ æœ€å¸Œæœ›è²“å’ªå¸¶çµ¦ä½ çš„æ„Ÿè¦ºæ˜¯ï¼Ÿ",
    a: ["A. æ²»ç™’èˆ‡å®‰éœ", "B. æ´»æ½‘äº’å‹•", "C. é«˜è²´æ°£è³ª", "D. ææ€ªé€—è¶£"]
  },
  { q: "Q3. ä½ çš„å±…ä½ç’°å¢ƒï¼Ÿ",
    a: ["A. å°å¥—æˆ¿æˆ–å…¬å¯“", "B. ä¸€èˆ¬ä½å®…", "C. æœ‰é™½å°æ¡å…‰å¥½", "D. å¤§åªæ•¸æˆ–å¤šè²“"]
  },
  { q: "Q4. ä½ å°æ‰æ¯›ï¼æ¸…æ½”çš„å¿è€åº¦ï¼Ÿ",
    a: ["A. å¾ˆé«˜", "B. æ™®é€š", "C. ä¸å¤ªèƒ½æ¥å—", "D. å°éæ•è¼ƒæ•æ„Ÿ"]
  },
  { q: "Q5. ä½ åå¥½çš„è²“å’ªå€‹æ€§ï¼Ÿ",
    a: ["A. å®‰éœé»äºº", "B. è°æ˜å¥½ç©", "C. é«˜å‚²å„ªé›…", "D. å‚»èŒææ€ª"]
  },
  { q: "Q6. ä½ çš„å¤–å‡ºæ™‚é–“ï¼Ÿ",
    a: ["A. å¹¾ä¹éƒ½åœ¨å®¶", "B. ç™½å¤©ä¸Šç­ã€æ™šä¸Šåœ¨å®¶", "C. å¸¸å¤–å‡ºæˆ–å‡ºå·®", "D. ä¸ä¸€å®šã€å¾ˆå½ˆæ€§"]
  },
  { q: "Q7. è‹¥è²“å’ªéœ€è¦æ™‚é–“é©æ‡‰ï¼Œä½ æœƒï¼Ÿ",
    a: ["A. è€å¿ƒé™ªä¼´", "B. ç”¨éŠæˆ²å»ºç«‹ä¿¡ä»»", "C. çµ¦ç‰ ç©ºé–“", "D. å¸Œæœ›å¿«é»è¦ªäºº"]
  }
];

// ---- åŠ æ¬Šè¦å‰‡ï¼ˆæ›´æº–ç¢ºçš„ç¶²ç«™äº’å‹•ç‰ˆï¼‰----
// Q1, Q6 æ¬Šé‡è¼ƒé«˜ (Ã—2)ï¼›Q3 ä¸­åº¦ (Ã—1.5)ï¼›å…¶é¤˜ Ã—1
const weights = [2,1,1.5,1,1,2,1];

// è‹¥è¦å¾®èª¿æ¯é¡Œå° A/B/C/D çš„åå¥½å¼·åº¦ï¼Œå¯ç”¨çŸ©é™£ï¼ˆé€™è£¡ä»¥å‡ç­‰ 1 ç‚ºé è¨­ï¼‰
const affinity = [
  {A:1,B:1,C:1,D:1},
  {A:1,B:1,C:1,D:1},
  {A:1,B:1,C:1,D:1},
  {A:1,B:1,C:1,D:1},
  {A:1,B:1,C:1,D:1},
  {A:1,B:1,C:1,D:1},
  {A:1,B:1,C:1,D:1},
];

const scores = {A:0,B:0,C:0,D:0};
let current = 0;

// ---- UI è¼‰å…¥ ----
function loadQuestion() {
  const quiz = document.getElementById("quiz");
  const total = quizData.length;
  quiz.innerHTML = "";
  if (current < total) {
    document.getElementById("progressBar").style.width = ((current/total)*100)+"%";
    const qElem = document.createElement("div");
    qElem.className="question";
    qElem.textContent = quizData[current].q;
    quiz.appendChild(qElem);

    const optDiv = document.createElement("div");
    optDiv.className="options";
    quizData[current].a.forEach((option) => {
      const btn = document.createElement("button");
      btn.setAttribute("aria-label", option);
      btn.textContent = option;
      btn.onclick = () => handleAnswer(option.charAt(0));
      optDiv.appendChild(btn);
    });
    quiz.appendChild(optDiv);

    const tip = document.createElement("div");
    tip.className="score-hint";
    tip.innerHTML = "è¨ˆåˆ†æ–¹å¼ï¼šæœ¬é ç‚ºåŠ æ¬Šè¨ˆåˆ†ï¼ˆQ1/Q6Ã—2ã€Q3Ã—1.5ï¼‰ï¼Œå…¶é¤˜Ã—1ã€‚<br><span class='small'>* é€™è®“çµæœæ›´è²¼è¿‘ä½ çš„å¯¦éš›ç”Ÿæ´»ç¯€å¥èˆ‡å¤–å‡ºå‹æ…‹ã€‚</span>";
    quiz.appendChild(tip);
  } else {
    showResult();
  }
}

function handleAnswer(letter){
  // ä¾æ¬Šé‡èˆ‡è¦ªå’ŒåŠ›åŠ åˆ†
  const w = weights[current] || 1;
  const aff = affinity[current]?.[letter] ?? 1;
  scores[letter] += w * aff;
  current++;
  loadQuestion();
}

// ---- çµæœ ----
function showResult(){
  document.getElementById("progressBar").style.width = "100%";
  const quiz = document.getElementById("quiz");
  quiz.style.display = "none";
  const res = document.getElementById("result");
  res.style.display = "block";

  // æ‰¾æœ€é«˜åˆ†èˆ‡ç¬¬äºŒåï¼ˆç”¨æ–¼å¹³æ‰‹æç¤ºï¼‰
  const entries = Object.entries(scores).sort((a,b)=>b[1]-a[1]);
  const top = entries[0][0];
  const topScore = entries[0][1];
  const secondScore = entries[1][1];
  const tie = Math.abs(topScore - secondScore) <= 1; // æ¥è¿‘è¦–ç‚ºæ··åˆå‹

  const mapping = {
    A: {
      title:"æº«æŸ”å®…ç³»",
      breeds:"è‹±åœ‹çŸ­æ¯›ã€è˜‡æ ¼è˜­æ‘ºè€³ï¼ˆç•™æ„é—œç¯€ï¼‰ã€å¸ƒå¶",
      desc:"æ…¢ç¯€å¥ã€ç™‚ç™’é™ªä¼´ï¼Œå®‰éœé»äººã€ç©©å®šæº«é †ã€‚"
    },
    B: {
      title:"äº’å‹•æ´»æ½‘æ´¾",
      breeds:"ç¾åœ‹çŸ­æ¯›ã€ç·¬å› ã€å­ŸåŠ æ‹‰",
      desc:"è°æ˜å¥½ç©ã€æ„›æ¢ç´¢ï¼Œéœ€è¦è±å¯Œäº’å‹•èˆ‡éŠæˆ²ã€‚"
    },
    C: {
      title:"é«˜å†·æ°£è³ªæ´¾",
      breeds:"ä¿„ç¾…æ–¯è—ã€æ³¢æ–¯ã€ç•°åœ‹çŸ­æ¯›",
      desc:"å„ªé›…ç©©å®šã€å­˜åœ¨æ„Ÿå¼·ï¼Œäº’å‹•é »ç‡ä¸éœ€å¤ªé«˜ã€‚"
    },
    D: {
      title:"è‡ªç”±ææ€ªæ´¾",
      breeds:"æ©˜è²“ï¼ˆèŠ±è‰²ï¼‰ã€æ··ç¨®ç¾çŸ­ã€æ–¯èŠ¬å…‹æ–¯",
      desc:"å¹½é»˜å¯æ„›ã€å€‹æ€§é®®æ˜ï¼Œç¤¾äº¤æ„Ÿå¼·ã€æ¨‚æ–¼äº’å‹•ã€‚"
    }
  };

  let text = `ğŸ¾ ä½ æ˜¯ã€${mapping[top].title}ã€‘<br>
  æ¨è–¦è²“ç¨®ï¼š${mapping[top].breeds}<br>
  ${mapping[top].desc}`;

  if(tie){
    const second = entries[1][0];
    text += `<br><br>ğŸ” ä½ åŒæ™‚å¸¶æœ‰ã€${mapping[second].title}ã€‘ç‰¹è³ªã€‚<br>
    å»ºè­°ä¾å¯¦éš›æ¢ä»¶ï¼ˆç©ºé–“å¤§å°ã€å¤–å‡ºæ™‚é–“ã€éæ•ç‹€æ³ï¼‰åœ¨å…©è€…ä¹‹é–“åšé¸æ“‡ã€‚`;
  }

  res.innerHTML = `
    <h2>æ¸¬é©—çµæœ</h2>
    <p>${text}</p>
    <button class="btn" onclick="restart()">å†ç©ä¸€æ¬¡</button>
    <button class="btn btn-secondary" onclick="shareResult()">åˆ†äº«çµæœ</button>
    <div class="share-note">é•·æŒ‰æˆªåœ–åˆ†äº«åˆ° IG é™å‹•ä¸¦æ¨™è¨» @ChubbyPaws</div>
  `;
}

// ---- åˆ†äº«ï¼ˆæ”¯æ´çš„ç€è¦½å™¨æœƒè·³ç³»çµ±åˆ†äº«é¢æ¿ï¼‰----
function shareResult(){
  const entries = Object.entries(scores).sort((a,b)=>b[1]-a[1]);
  const top = entries[0][0];
  const title = "æˆ‘çš„éˆé­‚è²“å’ªæ¸¬é©—çµæœ";
  const text = {
    A:"æˆ‘æ˜¯æº«æŸ”å®…ç³»ï½",
    B:"æˆ‘æ˜¯äº’å‹•æ´»æ½‘æ´¾ï¼",
    C:"æˆ‘æ˜¯é«˜å†·æ°£è³ªæ´¾âœ¨",
    D:"æˆ‘æ˜¯è‡ªç”±ææ€ªæ´¾ğŸ˜¸"
  }[top] || "ä¸€èµ·æ¥ç©å§ï½";
  const url = location.href + (location.search ? "&" : "?") + "utm_source=instagram&utm_medium=share&utm_campaign=cat_quiz";
  if(navigator.share){
    navigator.share({title, text, url});
  }else{
    alert("å·²è¤‡è£½åˆ†äº«é€£çµï¼Œå¿«è²¼åˆ°é™å‹•å§ï¼");
    copyText(url);
  }
}

function copyText(t){
  const ta = document.createElement("textarea");
  ta.value = t;
  document.body.appendChild(ta);
  ta.select(); document.execCommand("copy");
  document.body.removeChild(ta);
}

// ---- é‡ç© ----
function restart(){
  scores.A=0; scores.B=0; scores.C=0; scores.D=0;
  current=0;
  const quiz = document.getElementById("quiz");
  quiz.style.display="block";
  const res = document.getElementById("result");
  res.style.display="none";
  loadQuestion();
}

loadQuestion();
</script>
</body>
</html>
